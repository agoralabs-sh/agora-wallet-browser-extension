"use strict";(self.webpackChunk_agoralabs_sh_kibisis_web_extension=self.webpackChunk_agoralabs_sh_kibisis_web_extension||[]).push([[931],{86931:(e,s,t)=>{t.r(s),t.d(s,{SignTxnsError:()=>n,default:()=>r});class n extends Error{code;data;constructor(e,s,t){super(e),this.name="SignTxnsError",this.code=s,this.data=t}}const a="https://lute.app",o="width=500,height=750,left=100,top=100";class r{siteName;constructor(e){this.siteName=e}connect(e){return new Promise(((s,t)=>{const n=open(`${a}/connect`,this.siteName,o);window.addEventListener("message",(function o(r){if(r.origin===a)switch(r.data.debug&&console.log("[Lute Debug]",r.data),r.data.action){case"ready":{const s={action:"network",genesisID:e};n?.postMessage(s,"*");break}case"connect":n?.close(),window.removeEventListener("message",o),s(r.data.addrs);break;case"error":n?.close(),window.removeEventListener("message",o),t(new Error(r.data.message));break;case"close":n?.closed||(window.removeEventListener("message",o),t(new Error("Operation Cancelled")))}}))}))}signTxns(e){return new Promise(((s,t)=>{e.length||t(new n("Empty Transaction Array",4300));const r=open(`${a}/sign`,this.siteName,o);window.addEventListener("message",(function o(i){if(i.origin===a)switch(i.data.debug&&console.log("[Lute Debug]",i.data),i.data.action){case"ready":{const s={action:"sign",txns:e};r?.postMessage(s,"*");break}case"signed":r?.close(),window.removeEventListener("message",o),s(i.data.txns);break;case"error":r?.close(),window.removeEventListener("message",o),t(new n(i.data.message,i.data.code||4300));break;case"close":r?.closed||(window.removeEventListener("message",o),t(new n("User Rejected Request",4100)))}}))}))}}}}]);
//# sourceMappingURL=931.js.map